---
title: services.groups
description: 当システムのビジネスロジックで共通に使用されるユーティリティ関数を提供する。
---


## build_update_member_operations
グループメンバーの追加/除外のためのPatchOperationを作成する

#### シグネチャ
```python[utils.py]
def build_update_member_operations(add:set[str], remove:set[str]) -> list[PatchOperation]:
```
#### 引数
| 名前   | 型        | 説明                 |
| ------ | --------- | -------------------- |
| add    | set\[str] | 追加するユーザーのID |
| remove | set\[str] | 除外するユーザーのID |

#### 戻り値

| 型                    | 説明                               |
| --------------------- | ---------------------------------- |
| list\[PatchOperation] | パッチリクエストのリクエストボディ |

#### 処理内容
1. addからIDを取り出しpath="members", value={"type": "User", "value": id}でAddOperationを作成
2. removeからIDを取り出しpath="members[type eq "User" and value eq {id}]"でRemoveOperationを作成
3. list[PatchOperation]にまとめて返却
