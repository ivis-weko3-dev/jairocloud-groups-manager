---
title: services.groups
description: 当システムのビジネスロジックで共通に使用されるユーティリティ関数を提供する。
---


## build_update_member_operations
グループメンバーの追加 /除外のための PatchOperation を作成する

#### シグネチャ
```python[utils.py]
def build_update_member_operations(add:set[str], remove:set[str]) -> list[PatchOperation]:
```
#### 引数
| 名前   | 型        | 説明                  |
| ------ | --------- | --------------------- |
| add    | set\[str] | 追加するユーザーの ID |
| remove | set\[str] | 除外するユーザーの ID |

#### 戻り値

| 型                    | 説明                               |
| --------------------- | ---------------------------------- |
| list\[PatchOperation] | パッチリクエストのリクエストボディ |

#### 処理内容
1. add から ID を取り出し path="members", value={"type": "User", "value": id} でAddOperation を作成
2. remove から ID を取り出し path="members[type eq "User" and value eq {id}]" でRemoveOperation を作成
3. list[PatchOperation] にまとめて返却
