---
title: entities.patch_request
description: mAP Core API V2 の PATCH リクエストボディに対応するスキーマおよびエンティティモデルを提供する。
---

## PatchRequestPayload
mAP Core API V2 の PATCH リクエストボディに対応するモデル定義。
Python オブジェクトからリクエストボディの JSON へのシリアライズ機能を提供する。

#### シグネチャ
```python[patch_request.py]
class PatchRequestPayload(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
`pydantic.BaseModel`

#### クラス属性
| 名前         | 型                                       | 説明                         |
| ------------ | ---------------------------------------- | ---------------------------- |
| schemas      | list\[str]                               | リクエストのスキーマのリスト |
| operations   | list\[[PatchOperation](#patchoperation)] | PATCH 操作のリスト           |
| model_config | pydantic.ConfigDict                      | Pydantic モデルの設定        |

#### 注釈
- `operations` 属性は PATCH リクエストの `Operations` フィールドに対応する。
- `schemas` 属性の値は読み取り専用であり、
  定数 [`MAP_PATCH_SCHEMA`](../02.foundation/03.const.md#map_patch_schema) をただ一つ含むリストである。


## PatchOperation
mAP Core API V2 の PATCH リクエストの `Operations` フィールド内の各操作に対応する型エイリアス。
[`AddOperation`](#addoperation) 、[`RemoveOperation`](#removeoperation) 、[`ReplaceOperation`](#replaceoperation) のユニオン型として定義される。
[`PatchRequestPayload`](#patchrequestpayload) クラスのネストした属性として使用される。

#### シグネチャ
```python[patch_request.py]
type PatchOperation = AddOperation | RemoveOperation | ReplaceOperation
```

#### 注釈
- `AddOperation` 、`RemoveOperation` 、`ReplaceOperation` クラスは `op` 属性の値を型識別子（ discriminator ）に使用する。


## AddOperation
mAP Core API V2 の PATCH リクエストの `Operations` フィールド内の `add` 操作に対応するモデル定義。
[`PatchRequestPayload`](#patchrequestpayload) クラスのネストした属性として使用される。

#### シグネチャ
```python[patch_request.py]
class AddOperation(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
`pydantic.BaseModel`

#### クラス属性
| 名前         | 型                  | 説明                  |
| ------------ | ------------------- | --------------------- |
| op           | Literal\["add"]     | 操作タイプ名          |
| path         | str \| None         | 操作対象のフィールド  |
| value        | Any                 | 操作で使用する値      |
| model_config | pydantic.ConfigDict | Pydantic モデルの設定 |

#### 注釈
- `op` 属性の値は定数 `"add"` に固定される。


## RemoveOperation
mAP Core API V2 の PATCH リクエストの `Operations` フィールド内の `remove` 操作に対応するモデル定義。
[`PatchRequestPayload`](#patchrequestpayload) クラスのネストした属性として使用される。

#### シグネチャ
```python[patch_request.py]
class RemoveOperation(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
`pydantic.BaseModel`

#### クラス属性
| 名前         | 型                  | 説明                  |
| ------------ | ------------------- | --------------------- |
| op           | Literal\["remove"]  | 操作タイプ名          |
| path         | str                 | 操作対象のフィールド  |
| model_config | pydantic.ConfigDict | Pydantic モデルの設定 |

#### 注釈
- `op` 属性の値は定数 `"remove"` に固定される。


## ReplaceOperation
mAP Core API V2 の PATCH リクエストの `Operations` フィールド内の `replace` 操作に対応するモデル定義。
[`PatchRequestPayload`](#patchrequestpayload) クラスのネストした属性として使用される。

#### シグネチャ
```python[patch_request.py]
class ReplaceOperation(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
`pydantic.BaseModel`

#### クラス属性
| 名前         | 型                  | 説明                  |
| ------------ | ------------------- | --------------------- |
| op           | Literal\["replace"] | 操作タイプ名          |
| path         | str                 | 操作対象のフィールド  |
| value        | Any                 | 操作で使用する値      |
| model_config | pydantic.ConfigDict | Pydantic モデルの設定 |

#### 注釈
- `op` 属性の値は定数 `"replace"` に固定される。
