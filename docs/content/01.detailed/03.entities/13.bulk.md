---
title: entities.bulk
description: 当システムの一括操作に関するスキーマおよびエンティティモデルを提供する。
---
## RepositoryMember
データ検証に用いるデータのモデルクラス

#### シグネチャ
```python[bulk.py]
class RepositoryMember(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前   | 型        | 説明                                             |
| ------ | --------- | ------------------------------------------------ |
| groups | list[str] | 選択されたリポジトリに属するグループIDのリスト   |
| ids    | list[str] | 選択されたリポジトリに属するユーザーのidのリスト |


## ValidateSummary
データ検証の結果を表示するためのクラス

#### シグネチャ
```python[bulk.py]
class ValidateSummary(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前         | 型                | 説明                 |
| ------------ | ----------------- | -------------------- |
| check_result | list[CheckResult] | ユーザー毎の検証結果 |
| create       | int               | 作成件数             |
| update       | int               | 更新件数             |
| delete       | int               | 削除件数             |
| skip         | int               | 更新なし件数         |
| error        | int               | エラー件数           |


### CheckResult

#### シグネチャ
```python[bulk.py]
class CheckResult(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前           | 型                                                  | 説明                                               |
| -------------- | --------------------------------------------------- | -------------------------------------------------- |
| user_id        | str                                                 | インポート対象のユーザーID                         |
| eppn           | str                                                 | インポート対象のユーザーeppn                       |
| user_name      | str                                                 | インポート対象のユーザー名                         |
| groups         | list[str]                                           | インポート後の所属groupのID                        |
| bulk_operation | BulkOperation \| None                               | Bulkで行う各リクエストの内容  グループ管理機能参照 |
| status         | Literal["create","update","delete","skip", "error"] | 検証結果                                           |
| code           | str                                                 | 検証結果を示すメッセージコード                     |


## ResultSummary
インポート結果を表示するためのクラス

#### シグネチャ
```python[bulk.py]
class ResultSummary(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前            | 型                 | 説明                         |
| --------------- | ------------------ | ---------------------------- |
| import_result   | list[ImportResult] | ユーザー毎のインポート結果   |
| create          | int                | 作成件数                     |
| update          | int                | 更新件数                     |
| delete          | int                | 削除件数                     |
| skip            | int                | 更新なし件数                 |
| error           | int                | エラー件数                   |
| file_id         | pydantic.UUID7     | ファイルID                   |
| file_name       | str                | アップロードされたファイル名 |
| operator        | str                | アップロード実行ユーザー     |
| start_timestamp | datetime           | アップロード開始時間         |
| end_timestamp   | datetime           | アップロード終了時間         |

### ImportResult

#### シグネチャ
```python[bulk.py]
class ImportResult(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前      | 型                                                  | 説明                         |
| --------- | --------------------------------------------------- | ---------------------------- |
| user_id   | str                                                 | インポート対象のユーザーID   |
| eppn      | str                                                 | インポート対象のユーザーeppn |
| user_name | str                                                 | インポート対象のユーザー名   |
| groups    | list[str]                                           | インポート後の所属groupのID  |
| status    | Literal["create","update","delete","skip", "error"] | インポート結果               |
| code      | str                                                 | インポート結果のメッセージ   |


## ImportFiles
`multipart/form-data`でアップロードされたファイル群を格納し、View関数内で型安全に扱うためのデータクラス。

#### シグネチャ
```python[bulk.py]
class ImportFiles(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### 継承元
- `pydantic.BaseModel`

#### クラス属性
| 名前          | 型                  | 説明                 |
| ------------- | ------------------- | -------------------- |
| file          | FileStorage \| None | インポートファイル   |
| repository_id | str                 | 操作するリポジトリID |

## BulkBody

#### シグネチャ
```python[bulk.py]
class BulkBody(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### クラス属性
| 名前         | 型                     | 説明             |
| ------------ | ---------------------- | ---------------- |
| temporary_id | pydantic.UUID7 \| None | ファイルID       |
| history_id   | pydantic.UUID7 \| None | 履歴ID           |
| task_id      | str \| None            | タスクID         |
| status       | str \| None            | タスクステータス |

## ImportBody

#### シグネチャ
```python[bulk.py]
class ImportBody(pydantic.BaseModel):
```

#### 依存するライブラリ
- **Pydantic**： モデル定義および JSON シリアライズ・デシリアライズに使用。

#### クラス属性
| 名前          | 型               | 説明                                                   |
| ------------- | ---------------- | ------------------------------------------------------ |
| task_id       | str              | バリデーションタスクのID                               |
| repository_id | str              | 選択されたリポジトリのID                               |
| temporary_id  | pydantic.UUID7   | 仮アップロードされたファイルの識別子                   |
| delete_users  | list[UserDetail] | 削除(リポジトリ内のグループから除外)するユーザーの情報 |
